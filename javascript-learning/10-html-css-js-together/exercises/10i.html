<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <title>Calculator</title>
</head>
<style>
    body {
        background-color: black;
        color: white;
        font-family: monospace;
    }

    .text {
        display: flex;
        align-items: center;
        height: 30px;
        font-size: 25px;
        margin: 0;
        padding: 10px;
    }

    button {
        background-color: rgb(51, 51, 51);
        border: none;
        width: 50px;
        height: 50px;
        border-radius: 25px;
        color: white;
        font-size: 20px;
        cursor: pointer;
        transition: box-shadow 0.15s, background-color 0.1s;
    }

    button:hover {
        box-shadow: 1px 1px 10px rgba(112, 191, 16, 0.923);
    }

    button:active {
        background-color: rgba(255, 255, 255, 0.432);
    }

    .clear-button {
        font-size: 15px;
    }

    .operator-button {
        background-color: rgb(254, 160, 10);
        transition: box-shadow 0.15s, background-color 0.1s;
    }

    .operator-button:hover {
        box-shadow: 1px 1px 10px rgb(219, 12, 12);
    }

    .operator-button:active {
        background-color: rgb(173, 254, 10);
    }
</style>

<body>
    <p class="text"></p>
    <p class="line1">
        <button onclick="
            updateCalculation('1');
        ">1</button>
        <button onclick="
            updateCalculation('2');
    ">2</button>
        <button onclick="
            updateCalculation('3');
    ">3</button>
        <button class="operator-button" onclick="
            updateCalculation('+');
    ">+</button>
    </p>

    <p class="line2">
        <button onclick="
            updateCalculation('4');
        ">4</button>
        <button onclick="
            updateCalculation('5');
    ">5</button>
        <button onclick="
            updateCalculation('6');
    ">6</button>
        <button class="operator-button" onclick="
            updateCalculation('-');
    ">-</button>
    </p>

    <p class="line3">
        <button onclick="
            updateCalculation('7');
        ">7</button>
        <button onclick="
            updateCalculation('8');
    ">8</button>
        <button onclick="
            updateCalculation('9');
    ">9</button>
        <button class="operator-button" onclick="
            updateCalculation('*');
    ">*</button>
    </p>

    <p class="line4">
        <button onclick="
            updateCalculation('0');
        ">0</button>
        <button onclick="
            updateCalculation('.');
    ">.</button>
        <button onclick="
        calculation = eval(calculation)
        // console.log(calculation);
        //Saved in localStorage
            localStorage.setItem('calculation',calculation);
            document.querySelector('.text').innerHTML = calculation;
    ">=</button>
        <button class="operator-button" onclick="
            updateCalculation('/');
    ">/</button>
    </p>

    <button class="clear-button" onclick="
        calculation = '';
        //reset the value inside localStorage
        localStorage.removeItem('calculation');
        // console.log('Clear');
        //Saved in localStorage
            localStorage.setItem('calculation',calculation);
            document.querySelector('.text').innerHTML = calculation;
    ">Clear</button>

    <script>
        //read calculation from localStorage and create calculation if it's undefined
        let calculation = localStorage.getItem('calculation') || '';
        document.querySelector('.text').innerHTML = calculation;
        function updateCalculation(operator) {
            if (operator === '+' || operator === '-' || operator === '*' || operator === '/') {
                calculation += ' ' + operator + ' ';
            } else {
                calculation += operator;
            }
            //Saved in localStorage
            localStorage.setItem('calculation', calculation);
            document.querySelector('.text').innerHTML = calculation;
        }
    </script>
</body>

</html>