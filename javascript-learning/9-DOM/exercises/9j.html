<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <title>Calculator</title>
</head>

<body>
    <p class="text"></p>
    <p class="line1">
        <button onclick="
            updateCalculation('1');
        ">1</button>
        <button onclick="
            updateCalculation('2');
    ">2</button>
        <button onclick="
            updateCalculation('3');
    ">3</button>
        <button onclick="
            updateCalculation('+');
    ">+</button>
    </p>

    <p class="line2">
        <button onclick="
            updateCalculation('4');
        ">4</button>
        <button onclick="
            updateCalculation('5');
    ">5</button>
        <button onclick="
            updateCalculation('6');
    ">6</button>
        <button onclick="
            updateCalculation('-');
    ">-</button>
    </p>

    <p class="line3">
        <button onclick="
            updateCalculation('7');
        ">7</button>
        <button onclick="
            updateCalculation('8');
    ">8</button>
        <button onclick="
            updateCalculation('9');
    ">9</button>
        <button onclick="
            updateCalculation('*');
    ">*</button>
    </p>

    <p class="line4">
        <button onclick="
            updateCalculation('0');
        ">0</button>
        <button onclick="
            updateCalculation('.');
    ">.</button>
        <button onclick="
        calculation = eval(calculation)
        console.log(calculation);
    ">=</button>
        <button onclick="
            updateCalculation('/');
    ">/</button>
    </p>

    <button onclick="
        calculation = '';
        //reset the value inside localStorage
        localStorage.removeItem('calculation');
        console.log('Clear');
    ">Clear</button>

    <script>
        //read calculation from localStorage and create calculation if it's undefined
        let calculation = localStorage.getItem('calculation') || '';
        document.querySelector('.text').innerHTML = calculation;
        function updateCalculation(operator) {
            if(operator === '+' || operator === '-' || operator === '*' || operator === '/') {
                calculation += ' ' + operator + ' ';
            }else {
                calculation += operator;
            }
            //Saved in localStorage
            localStorage.setItem('calculation',calculation);
            document.querySelector('.text').innerHTML = calculation;
        }
    </script>
</body>

</html>